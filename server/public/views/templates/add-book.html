<header ng-include="'/views/partials/admin-header.html'"></header>

<div id="snackbar">Added book successfully.</div>

<div class="container">
    <h2 class="list-heading">Add a New Book</h2>
    <div class="form-container">
        <form class="search-form" ng-submit="vm.findBooks(vm.bookSearch)">
            <div>
                <input class="filter" type="text" ng-model="vm.bookSearch" placeholder="Search by title/author" />
            </div>
            <div>
                <button class="main-btn" type="submit">Search</button>
            </div>
        </form>
    </div>
</div>

<div class="book-container">
    <h2 class="list-heading" ng-if="vm.goodreadsBooks.list.length > 0">Search Results</h2>
    <div class="book-info search-books" ng-repeat="book in vm.goodreadsBooks.list">
        <div class="main-info">
            <div class="book-details">
                <div>
                    <img class="book-cover" ng-src="{{book.best_book.image_url._text}}" alt="">
                </div>
                <div>
                    <h3 class="book-title">{{book.best_book.title._text}}</h3>
                    <p>Author: {{book.best_book.author.name._text}}</p>
                    <p>Published: {{book.original_publication_year._text}}</p>
                    <p>Rating: {{book.average_rating._text}}</p>
                </div>
            </div>
            <div class="book-description">
                <p ng-bind-html="vm.renderHtml(book.description)"></p>
            </div>
        </div>
        
        <div class="book-action">
            <div>
                <select ng-model="book.selectedContinent" ng-options="continent.name for continent in vm.continents.list">
                        <option value="">Select a continent</option>
                </select>  
                <button class="main-btn" ng-click="vm.checkBook(book, book.selectedContinent)">Add Book</button>
            </div>
        </div>
    </div>
</div>
